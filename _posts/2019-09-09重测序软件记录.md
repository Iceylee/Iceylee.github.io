## SV软件
一篇文章说清楚基因组结构性变异检测的方法

除了Pindel，Delly也是应用SR方法进行变异检测的软件，不过Pindel在早期千人基因组计划中用的最多，Delly是后起之秀，当然现在有代表性的工具还有不少，比如lumpy、SVseq2等。

#### delly
 [官方文档](https://github.com/dellytools/delly)

make all，报错`undefined reference to boost::program_options::*`。gcc版本7.2.0
换版本后，make成功。

```
export OMP_NUM_THREADS=2

delly call -x hg19.excl -o delly.bcf -g hg19.fa input.bam

bcftools view delly.bcf > delly.vcf
```
 -t DEL 

#### breakdancer
在sv_caller.py中，如果选择breakdancer来分析，会报错
> samtools view: writing to standard output failed: Broken pipe
> samtools view: error closing standard output : -1


报错脚本：
```
with open("breakdancer.cfg", 'w') as outfile:
    subprocess.Popen(['/local_data1/software/perl/perl-v5.28.0/bin/perl', '/local_data1/software/breakdancer/breakdancer-1.1.2/perl/bam2cfg.pl', '/local_data1/work/liyubing/test/01.mapping/sorted_reads_head_B.bam'], stdout=outfile.fileno())

```
但这个代码单独跑是没有问题的。在subprocess中就会报错。

#### root
```
wget https://root.cern/download/root_v6.18.02.Linux-centos7-x86_64-gcc4.8.tar.gz

tar -zxvf root_v6.18.02.Linux-centos7-x86_64-gcc4.8.tar.gz
```
解压为root文件夹

再修改\$HOME/.bashrc，添加以下两行
```
export PATH=/Path/to/rootdir/bin:$PATH
export LD_LIBRARY_PATH=/Path/to/rootdir/lib:$LD_LIBRARY_PATH
```
注意：/Path/to/rootdir即上一步安装root包时压缩后root文件夹的位置，请用绝对路径！

```
cd root 
. bin/thisroot.sh
```
#### cnvnator
紧接着上面root的source进行。在同一个shell
```
git clone https://github.com/abyzovlab/CNVnator.git

cd CNVnator

ln -s /path/to/src/samtools samtools

make
```

make报错

在Makefile中LIBS行加上 -lcrypto -lssl
`override LIBS += -lz -lcrypto -lssl -lbz2 -lcurl -llzma -lreadline`
make

运行cnvnator报错
>ERROR in cling::CIFactory::createCI(): cannot extract standard library include paths!

gcc版本更换后没有报错了





#### 参考
1. https://root.cern.ch/build-prerequisites